---
title: API Reference

language_tabs: # must be one of https://git.io/vQNgJ
  - http

toc_footers:
  # - <a href='#'>Sign Up for a Developer Key</a>
  # - <a href='https://github.com/slatedocs/slate'>Documentation Powered by Slate</a>

includes:
  - errors

search: false

code_clipboard: true
---

# Introduction

Welcome to the Komodo Integration API! Clien can use our API to integrate Komodo's services with client's services.

# Authentication

Komodo API uses JWTs to authenticate your requests. JWTs need to be signed using provided secret_key and sent in the Authorization header using Bearer Authorization.

JSON Web Tokens (JWTs) are a compact, URL-safe means of representing claims to be transferred between two parties.
Please refer to [RFC 7519](https://tools.ietf.org/html/rfc7519) specification to implement JWT.

Format
`Authorization: Bearer INSERT_GENERATED_JWT_HERE`

<aside class="notice">
You must replace <code>INSERT_GENERATED_JWT_HERE</code> with generated JWT Token.
</aside>

Values for the JWT Header are:

Name | Description
--------- | -----------
**alg** | The encryption algorithm used to generate the JWT. **HS256** is supported.
**typ** | The token structure. Set to **JWT**

Values for the payload claims are:

Name | Description
--------- | -----------
**api_key** | The unique Key for your application. Generated by Komodo.


# Vendor

## Vendor Synchronization
Komodo will call client's service to sync Komodo's vendor.

### HTTP Request

Client will send the vendor synchronization URL to Komodo team.

> WSDL

```xml
<?xml version="1.0" encoding="utf-8"?>
<wsdl:definitions targetNamespace="urn:sap-com:document:sap:soap:functions:mc-style"
	xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/"
	xmlns:xsd="http://www.w3.org/2001/XMLSchema"
	xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/"
	xmlns:http="http://schemas.xmlsoap.org/wsdl/http/"
	xmlns:mime="http://schemas.xmlsoap.org/wsdl/mime/"
	xmlns:tns="urn:sap-com:document:sap:soap:functions:mc-style"
	xmlns:wsp="http://schemas.xmlsoap.org/ws/2004/09/policy"
	xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd"
	xmlns:n1="urn:sap-com:document:sap:rfc:functions">
	<wsdl:documentation>
		<sidl:sidl
			xmlns:sidl="http://www.sap.com/2007/03/sidl"/>
		</wsdl:documentation>
		<wsp:UsingPolicy wsdl:required="true"/>
		<wsp:Policy wsu:Id="IF_ZWS_TEST1">
			<sapsession:Session
				xmlns:sapsession="http://www.sap.com/webas/630/soap/features/session/">
				<sapsession:enableSession>false</sapsession:enableSession>
			</sapsession:Session>
		</wsp:Policy>
		<wsp:Policy wsu:Id="OP_ZwsTest">
			<sapcomhnd:enableCommit
				xmlns:sapcomhnd="http://www.sap.com/NW05/soap/features/commit/">false
			</sapcomhnd:enableCommit>
			<sapblock:enableBlocking
				xmlns:sapblock="http://www.sap.com/NW05/soap/features/blocking/">true
			</sapblock:enableBlocking>
			<saptrhnw05:required
				xmlns:saptrhnw05="http://www.sap.com/NW05/soap/features/transaction/">no
			</saptrhnw05:required>
			<saprmnw05:enableWSRM
				xmlns:saprmnw05="http://www.sap.com/NW05/soap/features/wsrm/">false
			</saprmnw05:enableWSRM>
		</wsp:Policy>
		<wsdl:types>
			<xsd:schema attributeFormDefault="qualified" targetNamespace="urn:sap-com:document:sap:soap:functions:mc-style"
				xmlns:n0="urn:sap-com:document:sap:rfc:functions">
				<xsd:import namespace="urn:sap-com:document:sap:rfc:functions"/>
				<xsd:element name="Vendor">
                    <xsd:complexType>
                        <xsd:sequence>
                            <xsd:element name="NPWP" type="xsd:string"/>
                            <xsd:element name="ID" type="xsd:int"/>
                            <xsd:element name="CompanyName" type="xsd:string"/>
                            <xsd:element name="Address" type="xsd:string"/>
                            <xsd:element name="City" type="xsd:string"/>
                            <xsd:element name="Province" type="xsd:string"/>
                            <xsd:element name="PostalCode" type="xsd:string"/>
                            <xsd:element name="PhoneNo" type="xsd:string"/>
                            <xsd:element name="Email" type="xsd:string"/>
                            <xsd:element name="SearchTerm" type="xsd:string"/>
                        </xsd:sequence>
                    </xsd:complexType>
                </xsd:element>
				<xsd:element name="VendorResp">
					<xsd:complexType>
						<xsd:sequence>
							<xsd:element name="Status" type="xsd:int"/>
                            <xsd:element name="Message" type="xsd:string"/>
						</xsd:sequence>
					</xsd:complexType>
				</xsd:element>
			</xsd:schema>
		</wsdl:types>
		<wsdl:message name="VendorRequest">
			<wsdl:part name="parameters" element="tns:Vendor"/>
		</wsdl:message>
		<wsdl:message name="VendorResponse">
			<wsdl:part name="parameter" element="tns:VendorResp"/>
		</wsdl:message>
		<wsdl:portType name="ZWS_TEST1">
			<wsp:Policy>
				<wsp:PolicyReference URI="#IF_ZWS_TEST1"/>
			</wsp:Policy>
			<wsdl:operation name="ZwsTest">
				<wsp:Policy>
					<wsp:PolicyReference URI="#OP_ZwsTest"/>
				</wsp:Policy>
				<wsdl:input message="tns:VendorRequest"/>
				<wsdl:output message="tns:VendorResponse"/>
			</wsdl:operation>
		</wsdl:portType>
	</wsdl:definitions>
```

### Request

Field | Data Type | Description
--------- | ------- | ----------- | -----------
NPWP | string | Vendor NPWP
ID | integer | Vendor id
CompanyName | string | Vendor name
Address | string | Vendor address
City | string | Vendor city
Province | string | Vendor province
PostalCode | string | Vendor Postal Code
PhoneNo | string | Vendor phone
Email | string | Vendor email
SearchTerm | string | Vendor category/search term

### Request

Field | Data Type | Description
--------- | ------- | ----------- | -----------
Status | integer | 200 if success.
Message | string | Empty if success. If error, show error message

## Vendor Synchronization Notification
This service offers client to update vendor synchronization status to Komodo.

### HTTP Request

`PUT https://dev.gokomodo.co/v1/api/vendors`

> Request Sample

```json
[
  {
    "id": 1 //Komodo Vendor ID
  },
  {
    "id": 2 //Komodo Vendor ID
  }
]
```

### Request

Field | Data Type | Required | Description
--------- | ------- | ----------- | -----------
id | integer | Y | Komodo Vendor ID.

> Success Response

```json
{
  "status": 200,
  "message": "Success"
}
```

> Error Response

```json
{
  "status": 400,
  "message": "Vendor already synchronized"
}
```

### Response

Field | Data Type | Description
--------- | ------- | ----------- | -----------
status | int | Update status.
message | string | If error, it will show error message.

# Trade Confirmation

## Unexported Trade Confirmations
Get all unexported Trade Confirmations

### HTTP Request

`GET https://dev.gokomodo.co/v1/api/trade-confirmations`

> Success Response

```json
{
  "status": 200,
  "message": "Success",
  "data":[
    {
      "tc_id":"XyA3Rt"
    },
    {
      "tc_id":"X3RTYz"
    },
    {
      "tc_id":"EwRaTZ"
    }
  ]
}
```

### Response

Field | Data Type | Description
--------- | ------- | ----------- | -----------
status | int | Update status.
message | string | If error, it will show error message.
data | | Unexported TC list.
tc_id | string | TC ID.

## Trade Confirmation Detail
Get specified Trade Confirmation detail.

### HTTP Request

`GET https://dev.gokomodo.co/v1/api/trade-confirmations/{TC_ID}`

### Parameters
Field | Data Type | Description
--------- | ------- | ----------- | -----------
TC_ID | string | Trade Confirmation ID.

> Success Response

```json
{
  "status": 200,
  "message": "Success",
  "data":{
    "tc_id": "TC-123456",
    "rfq_id": "RFQ-123456",
    "vendor_id": 123,
    "root_category": "Information Technology",
    "company_name": "PT Star Wars enterprise",
    "company_id": 1,
    "internal_id": "ABC",
    "delivery_method": 1,
    "dph_no": "DPH001",
    "email": "buyer@mail.com",
    "include_tax": true,
    "tax_value": 10,
    "tax_type": "percent",
    "tax_total": 99000,
    "discount_value": 50000,
    "discount_type": "amount",
    "discount_total": 10000,
    "payment_term": {
      "id": "001",
      "text": "Cicilan"
    },
    "tc_deliveries": [
      {
        "tc_delivery_items": [
          {
            "pr_id": "000000123",
            "pr_item_id": "00010",
            "material_number": "13234324343243",
            "plant": "ABC0",
            "unit_cost": 10000,
            "delivery_cost": 0,
            "delivered_unit_cost": 10000,
            "quantity": 10,
            "discount_value": 10,
            "discount_type": "percent",
            "discount_total": 10000,
            "total": 90000,
            "notes": ""
          },
          {
            "pr_id": "000000789",
            "pr_item_id": "00020",
            "material_number": "112233445566",
            "plant": "ABC0",
            "unit_cost": 10000,
            "delivery_cost": 0,
            "delivered_unit_cost": 10000,
            "quantity": 10,
            "discount_value": 10,
            "discount_type": "percent",
            "discount_total": 10000,
            "total": 90000,
            "notes": ""
          }
        ],
        "total": 90000,
        "total_delivery_cost": 0
      }
    ]
  }
}
```

### Response

Field | Data Type | Description
--------- | ------- | ----------- | -----------
tc_id | string | Trade Confirmation no.
rfq_id | string | RFQ ID.
vendor_id | integer | Vendor ID.
root_category | string | RFQ root category.
company_name | string | Buyer company name.
company_id | integer | Buyer company ID.
internal_id | string | Buyer company ERP id/code.
delivery_method | integer | Delivery method 0-2 (0 = Franco, 1 = With delivery cost, 2 = Per product delivery cost).
dph_no | string | DPH No.
email | string | Trade Confirmation creator's email.
include_tax | boolean | Include tax.
tax_type | string | Percent or amount.
tax_value | double | TC Tax value or amount.
tax_total | double | TC total tax.
discount_type | string | Percent or amount.
discount_value | double | TC Discount value or amount.
discount_total | double | TC discount.
total | double | TC Total.
**tc_deliveries** |  |
  **tc_delivery_items** | |
    pr_id | string | Purchase Requisition ID.
    pr_item_id | string | Purchase Requisition Item ID.
    material_number | string | Material number.
    plant | string | Delivery destination company id/code.
    unit_cost | double | Unit Cost.
    quantity | integer | Quantity.
    delivery_cost | double | Delivery Cost.
    discount_type | string | Percent or amount.
    discount_value | double | Item Discount value or amount.
    discount_total | double | Item total discount.
    total | double | Total amount.
    notes | string | Product specification.
  total | double | Delivery total amount
  total_delivery_cost | double | Delivery total cost.
**payment_term** |  |
  id | string | Payment Term id/code
  text | string | Payment Term text

## Purchase Order Notification
After created Purchase Order in client's system, use this service to update Trade Confirmation with Purchase Order number

### HTTP Request

`PUT https://dev.gokomodo.co/v1/api/trade-confirmations`

> Request Sample

```json
{
  "tc_id": "X79Y0Z",
  "po_no": "12323123"
}
```

### Request

Field | Data Type | Required | Description
--------- | ------- | ----------- | -----------
tc_id | string | Y | Komodo Trade Confirmation ID.
po_no | string | Y | Client's Purchase Order Number.

> Success Response

```json
{
  "status": 200,
  "message": "Success"
}
```

> Error Response

```json
{
  "status": 400,
  "message": "Trade Confirmation already had Purchase Order."
}
```

### Response

Field | Data Type | Description
--------- | ------- | ----------- | -----------
status | int | Update status.
message | string | If error, it will show error message.

## Update Purchase Order
After updating Purchase Order in client's system, use this service to update Trade Confirmation with edited Purchase Order data.

### HTTP Request

`PUT https://dev.gokomodo.co/v1/api/purchase-orders`

> Request Sample

```json
{
  "po_no": "12323123",
  "deliveries":[
    {
      "items":[
        {
          "pr_item_id":"ITM0001",
          "quantity":100,
          "unit_price":10000,
          "discount_type":"percent",
          "discount_amount":10000
        },
        {
          "pr_item_id":"ITM0002",
          "quantity":100,
          "unit_price":10000,
          "discount_type":"percent",
          "discount_amount":10000
        }
      ],
      "discount_type":"amount",
      "discount_amount":5000
    }
  ],
}
```

### Request

Field | Data Type | Required | Description
--------- | ------- | ----------- | -----------
po_no | string | Y | Client's Purchase Order Number.
**Delivery** | | |
discount_type | string | N | Percent or amount
discount_value | double | N | Discount value or amount
**PO Item** | | |
pr_item_id | string | Y | Purchase Requisition Item ID/Code
quantity | integer | Y | Item quantity
unit_price | double | Y | Item unit price
discount_type | string | N | Percent or amount
discount_value | double | N | Item discount value or amount

> Success Response

```json
{
  "status": 200,
  "message": "Success"
}
```

> Error Response

```json
{
  "status": 400,
  "message": "Invalid quantity."
}
```

### Response

Field | Data Type | Description
--------- | ------- | ----------- | -----------
status | int | Update status.
message | string | If error, it will show error message.

